<template>
<div class="page" data-name="about">
  <div class="navbar">
    <div class="navbar-bg"></div>
    <div class="navbar-inner sliding">
      <div class="left">
        <a href="#" class="link back">
          <i class="icon icon-back"></i>
          <span class="if-not-md">Back</span>
        </a>
      </div>
      <div class="title">不良事件详情</div>
    </div>
  </div>

  <div class="page-content">

    <div class="block-title">不良事件报告单</div>

      <!-- <div class="card demo-facebook-card">
        <div class="card-header">
          <div class="demo-facebook-avatar"><img src="https://cdn.framework7.io/placeholder/people-68x68-1.jpg"
              width="34" height="34" /></div>
          <div class="demo-facebook-name">John Doe</div>
          <div class="demo-facebook-date">Monday at 3:47 PM</div>
        </div>
        <div class="card-content"> <img src="https://cdn.framework7.io/placeholder/nature-1000x700-8.jpg"
            width="100%" /></div>
        <div class="card-footer"><a href="/evn-base-information/" class="link">详情</a><a href="#" class="link">审批</a><a href="#"
            class="link">分享</a></div>
      </div> -->

      <div class="card demo-facebook-card">
        <div class="card-header">
          <div class="demo-facebook-avatar"><img src="https://cdn.framework7.io/placeholder/people-68x68-1.jpg"
              width="34" height="34" /></div>
          <div class="demo-facebook-name">${currentProduct.presenter} </div>
          <div class="demo-facebook-date">Added at ${currentProduct.date_add} ${currentProduct.time_add}</div>
        </div>
        <div class="card-content card-content-padding"><p>[#${currentProduct.id}] ${currentProduct.title}</p>
            ${currentProduct.description}...
            <p class="likes">Loc. ${currentProduct.location}</p></div>
        <div class="card-footer"><a href="/product/${currentProduct.id}/" class="link">展开</a><a href="#" class="link">审核</a><a href="#"
            class="link">分享</a></div>
      </div>

      <div class="card">
        <div class="card-header">报告单附件:</div>
        <div class="card-content">
          <div class="list media-list no-ios-edges">
            <ul>
              <li class="item-content">
                <div class="item-media">
                  <img src="https://cdn.framework7.io/placeholder/fashion-88x88-4.jpg" width="44" />
                </div>
                <div class="item-inner"><a class="color-black popup-open" target="_self" href="/evn-addi-medicine/">
                  <div class="item-title-row">
                    <div class="item-title">药品、药物不良反应</div>
                  </div>
                  <div class="item-subtitle">待填写</div>
                </a></div>
                <div class="item-after">
                  <i class="icon f7-icons if-not-md">today_fill</i>
                  <i class="icon material-icons md-only">today</i>
                </div>
              </li>
              <li class="item-content">
                <div class="item-media">
                  <img src="https://cdn.framework7.io/placeholder/fashion-88x88-5.jpg" width="44" />
                </div>
                <div class="item-inner" ><a class="color-black popup-open" target="_self" href="/evn-addi-equipment/">
                  <div class="item-title-row">
                    <div class="item-title">医疗器械不良事件</div>
                  </div>
                  <div class="item-subtitle">待填写</div>
                </a></div>
                <div class="item-after">
                  <i class="icon f7-icons if-not-md">today_fill</i>
                  <i class="icon material-icons md-only">today</i>
                </div>
              </li>
              <li class="item-content">
                <div class="item-media">
                  <img src="https://cdn.framework7.io/placeholder/fashion-88x88-6.jpg" width="44" />
                </div>
                <div class="item-inner"><a class="color-black popup-open" target="_self" href="/evn-addi-attachment/">
                  <div class="item-title-row">
                    <div class="item-title">附件-补充报告表</div>
                  </div>
                  <div class="item-subtitle">不可用</div>
                </a></div>
                <div class="item-after">
                  <i class="icon f7-icons if-not-md">today_fill</i>
                  <i class="icon material-icons md-only">today</i>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="card-footer"> <span>January 20, 2022</span><span>5 comments</span></div>
      </div>

      <div class="block-title">RCAnalysis & Action Plan</div>
      <div class="card card-expandable">
        <div class="card-content">
          <div class="bg-color-red" style="height: 300px">
            <div class="card-header text-color-white display-block">根因分析<br />
              <small style="opacity: 0.7">Build By Tony.Kang</small>
            </div>
            <a href="#" class="link card-close card-opened-fade-in color-white"
              style="position: absolute; right: 15px; top: 15px">
              <i class="icon f7-icons">xmark_circle_fill</i>
            </a>
          </div>
          <div class="card-content-padding">
            <p>Framework7 - is a free and open source HTML mobile framework to develop hybrid mobile apps or web
              apps with iOS or Android (Material) native look and feel. It is also an indispensable prototyping apps
              tool to show working app prototype as soon as possible in case you need to.</p>
            <p>The main approach of the Framework7 is to give you an opportunity to create iOS and Android
              (Material) apps with HTML, CSS and JavaScript easily and clear. Framework7 is full of freedom. It
              doesn't limit your imagination or offer ways of any solutions somehow. Framework7 gives you freedom!
            </p>
            <p>Framework7 is not compatible with all platforms. It is focused only on iOS and Android (Material) to
              bring the best experience and simplicity.</p>
            <p>Framework7 is definitely for you if you decide to build iOS and Android hybrid app (Cordova or
              PhoneGap) or web app that looks like and feels as great native iOS or Android (Material) apps.</p>
          </div>
        </div>
      </div>
      <div class="card card-expandable">
        <div class="card-content">
          <div class="bg-color-yellow" style="height: 300px">
            <div class="card-header text-color-black display-block">行动计划<br />
              <small style="opacity: 0.7">Build By Triplux.Hu</small>
            </div>
            <a href="#" class="link card-close card-opened-fade-in color-black"
              style="position: absolute; right: 15px; top: 15px">
              <i class="icon f7-icons">xmark_circle_fill</i>
            </a>
          </div>
          <div class="card-content-padding">
            <p>Framework7 - is a free and open source HTML mobile framework to develop hybrid mobile apps or web
              apps with iOS or Android (Material) native look and feel. It is also an indispensable prototyping apps
              tool to show working app prototype as soon as possible in case you need to.</p>
            <p>The main approach of the Framework7 is to give you an opportunity to create iOS and Android
              (Material) apps with HTML, CSS and JavaScript easily and clear. Framework7 is full of freedom. It
              doesn't limit your imagination or offer ways of any solutions somehow. Framework7 gives you freedom!
            </p>
            <p>Framework7 is not compatible with all platforms. It is focused only on iOS and Android (Material) to
              bring the best experience and simplicity.</p>
            <p>Framework7 is definitely for you if you decide to build iOS and Android hybrid app (Cordova or
              PhoneGap) or web app that looks like and feels as great native iOS or Android (Material) apps.</p>
          </div>
        </div>
      </div>

  </div>
</div>
</template>
<style>
  .demo-card-header-pic .card-header {
    height: 40vw;
    background-size: cover;
    background-position: center;
    color: #fff;
  }

  .demo-card-header-pic .card-content-padding .date {
    color: #8e8e93;
  }

  .demo-facebook-card .card-header {
    display: block;
    padding: 10px;
  }

  .demo-facebook-card .demo-facebook-avatar {
    float: left;
  }

  .demo-facebook-card .demo-facebook-name {
    margin-left: 44px;
    font-size: 14px;
    font-weight: 500;
  }

  .demo-facebook-card .demo-facebook-date {
    margin-left: 44px;
    font-size: 13px;
    color: #8e8e93;
  }

  .demo-facebook-card .card-footer {
    background: #fafafa;
  }

  .demo-facebook-card .card-footer a {
    color: #81848b;
    font-weight: 500;
  }

  .demo-facebook-card .card-content img {
    display: block;
  }

  .demo-facebook-card .card-content-padding {
    padding: 15px 10px;
  }

  .demo-facebook-card .card-content-padding .likes {
    color: #8e8e93;
  }
</style>
<script>
//export default (props, { $f7, $update }) => {
export default (props, { $f7route, $store, $, $f7 }) => {
  //----------------------------------------------------
  const products  = $store.getters.products;
  const productId = $f7route.params.id;
  //-----------------------------------------------------------
  //Export DOM7 to local variable to make it easy accessible
  var app = $f7;
  var $$ = app.$;
  const testfunc = (e) => { 
     $$('h1, h2').toggleClass('small');
  }
  //-----------------------------------------------------------
  //const currentProduct = products.value.find(item=>item.id===productId);
  const currentProduct = JSON.parse(props.prdt)['events'][0];
  const aaaaa = JSON.parse(props.prdt)['rca_items'];
  const bbbbb = JSON.parse(props.prdt)['action_plan_items'];

  console.log('1.Presenter = |' + currentProduct.presenter + '|');
  console.log('2.Name = |' + aaaaa[0]["q_name"] + '|');
  console.log('3.Measures = |' + bbbbb[0]['measures'] + '|');

  return $render;
};
</script>